:root{
  --md-primary:#1a73e8;
  --md-primary-dark:#1558b0;
  --md-on-primary:#fff;
  --md-surface:#fff;
  --md-bg:#f5f7fb;
  --md-outline:#e0e3eb;
  --md-text:#1f2937;
  --md-subtle:#6b7280;
  --md-success:#0a7d22;
  --md-error:#b00020;
  --radius-sm:8px;
  --radius-md:10px;
  --shadow-1:0 1px 2px rgba(0,0,0,.06);
  --shadow-2:0 4px 12px rgba(0,0,0,.10);
}

*{box-sizing:border-box}
html,body{height:100%; margin:0; padding:0; font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif; background:var(--md-bg); color:var(--md-text)}
body{display:flex; flex-direction:column; overflow:hidden}

/* App bar */
.appbar{
  background:var(--md-primary);
  color:var(--md-on-primary);
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:10px 12px; box-shadow:var(--shadow-2);
}
h1{margin:0; font-size:1.2rem; font-weight:600}
.icon-btn{background:transparent; border:none; color:var(--md-on-primary); padding:6px 8px; border-radius:999px; cursor:pointer}

/* Buttons */
.btn{display:inline-flex; align-items:center; gap:8px; border-radius:var(--radius-sm); padding:10px 12px; background:#fff; color:var(--md-text); border:1px solid transparent; cursor:pointer; font-size:.95rem}
.btn.primary{background:var(--md-primary); color:var(--md-on-primary)}
.btn.primary:hover{background:var(--md-primary-dark)}
.btn.danger{background:var(--md-error); color:#fff}
.btn.text-on-primary{background:rgba(255,255,255,.15); color:#fff}
.btn.text-on-primary:hover{background:rgba(255,255,255,.25)}

/* Pages */
.page{flex:1; overflow:auto; padding:12px; display:none}
.page.active{display:block}

/* Cards */
.card{background:var(--md-surface); border:1px solid var(--md-outline); border-radius:var(--radius-md); padding:14px; margin-bottom:16px; box-shadow:var(--shadow-1)}
.card h3{margin:0 0 10px 0; font-size:1.05rem}

/* Inputs */
.input-grid{display:grid; grid-template-columns:1fr 160px 160px; gap:10px}
@media (max-width:680px){ .input-grid{grid-template-columns:1fr} }
input, select{width:100%; padding:12px; border:1px solid var(--md-outline); border-radius:var(--radius-sm); background:#fff; font-size:1rem}

/* Actions */
.actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:8px}

/* Purchases list */
.purchase-list{border-top:1px solid var(--md-outline)}
.purchase-item{display:flex; align-items:center; gap:12px; padding:10px 0; border-bottom:1px solid var(--md-outline)}
.purchase-name{flex:2; min-width:140px; word-break:break-word}
.purchase-amount{flex:1; text-align:right; white-space:nowrap; font-variant-numeric:tabular-nums}
.delete-btn{background:transparent; color:var(--md-error); border:none; padding:6px 8px; border-radius:8px; cursor:pointer}
.delete-btn:hover{background:rgba(176,0,32,.08)}

/* Status + total */
.status{margin-top:10px; padding:8px 10px; border-radius:var(--radius-sm); font-size:.85rem; background:#f3f4ff; color:var(--md-subtle)}
.status.ok{background:#e7f7ed; color:var(--md-success)}
.status.err{background:#fde7eb; color:var(--md-error)}
.total{position:sticky; bottom:0; background:var(--md-primary); color:var(--md-on-primary); padding:10px 14px; text-align:right; font-weight:600; box-shadow:var(--shadow-2); font-variant-numeric:tabular-nums}

/* Side menu */
.side-menu{
  position:fixed; top:0; left:0; bottom:0; width:260px;
  background:var(--md-surface); box-shadow:var(--shadow-2);
  transform:translateX(-100%); transition:transform .18s ease-out;
  z-index:150; display:flex; flex-direction:column;
}
.side-menu.open{transform:translateX(0)}
.menu-header{
  background:var(--md-primary); color:var(--md-on-primary);
  display:flex; justify-content:space-between; align-items:center; padding:10px 12px
}
.side-menu ul{list-style:none; margin:0; padding:10px}
.menu-link{
  width:100%; text-align:left; background:#fff; border-radius:var(--radius-sm);
  border:1px solid var(--md-outline); padding:8px 10px; margin-bottom:8px;
  display:inline-flex; align-items:center; gap:10px; cursor:pointer
}
.menu-link:hover{background:#f9fafc}
.menu-link.warn{background:#fff9e6; border-color:#ffe4a3}
.menu-link.danger{background:#ffe6e9; border-color:#ffc2c8}

/* Modal (reserved for future use) */
.modal-overlay{position:fixed; inset:0; background:rgba(0,0,0,.25); display:flex; align-items:center; justify-content:center; z-index:200}
.modal{background:var(--md-surface); border:1px solid var(--md-outline); border-radius:var(--radius-md); padding:18px; width:min(92vw, 480px); box-shadow:var(--shadow-2)}
.modal h2{margin:0 0 8px 0; font-size:1.2rem}
.modal p{margin:6px 0 10px 0; color:var(--md-subtle)}
.modal-actions{display:flex; gap:10px; justify-content:flex-end; margin-top:12px}

/* Category summary */
.category-row{margin-top:8px;}
.category-row select{width:100%;}

.category-table-wrapper{overflow-x:auto; margin-top:8px;}
.category-table{width:100%; border-collapse:collapse; font-size:.95rem;}
.category-table th,
.category-table td{padding:8px 6px; border-bottom:1px solid var(--md-outline); text-align:left;}
.category-table th{font-weight:600; color:var(--md-subtle); font-size:.8rem; text-transform:uppercase; letter-spacing:.05em;}
.category-table td:nth-child(2),
.category-table td:nth-child(3){text-align:right; font-variant-numeric:tabular-nums;}

.subtle{color:var(--md-subtle); font-size:.85rem; margin:4px 0 0 0;}

/* Layout width on larger screens */
@media (min-width: 680px){ .card{max-width:820px; margin-inline:auto} }
